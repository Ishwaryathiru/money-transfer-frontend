<div class="page">
  <div class="shell">
    <div class="header">
      <h2>Transaction History</h2>
      <div class="sub">Account: {{ accId }}</div>
    </div>

    <div *ngIf="loading" class="loading">Loading transactions...</div>

    <div *ngIf="!loading && transactions.length === 0" class="empty">
      No transactions found.
    </div>

    <table *ngIf="!loading && transactions.length > 0" class="tx-table">
      <thead>
        <tr>
          <th>Date</th>
          <th>Type</th>
          <th class="right">Amount</th>
          <th>Status</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let t of transactions">
          <td>{{ t.createdOn | date:'dd MMM yyyy, hh:mm a' }}</td>

          <td>
            <span class="chip" [ngClass]="isCredit(t) ? 'credit' : 'debit'">
              {{ isCredit(t) ? 'CREDIT' : 'DEBIT' }}
            </span>
          </td>

          <td class="right">
            <span [ngClass]="isCredit(t) ? 'amt-credit' : 'amt-debit'">
              {{ isCredit(t) ? '+' : '-' }}â‚¹ {{ t.amount | number:'1.2-2' }}
            </span>
          </td>

          <td>
            <span class="badge" [ngClass]="(t.status || '').toUpperCase() === 'SUCCESS' ? 'ok' : 'bad'">
              {{ statusText(t) }}
            </span>
          </td>
        </tr>
      </tbody>
    </table>

  </div>
</div>
